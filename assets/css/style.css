/* =========================================
   DESIGN TOKENS
   ========================================= */
:root {
    /* Palette */
    --bg-app: #fafafa;
    --bg-surface: #ffffff;
    --fg-primary: #111111;
    --fg-secondary: #666666;
    --fg-tertiary: #888888;
    
    /* Accents */
    --accent-blue: #0070f3;
    --accent-warning-bg: #fffbf0;
    --accent-warning-fg: #b5850b;
    --accent-success-bg: #d3e5ff;
    --accent-success-fg: #0070f3;
    --accent-error-bg: #fff0f0;
    --accent-error-fg: #e00000;
    
    /* Borders & Shadows */
    --border-light: #eaeaea;
    --shadow-card: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
    --shadow-hover: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.025);
    
    /* Dimensions */
    --radius-lg: 12px;
    --max-width: 680px;
}

/* =========================================
   RESET & BASE
   ========================================= */
* { box-sizing: border-box; -webkit-font-smoothing: antialiased; }

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    background-color: var(--bg-app);
    color: var(--fg-primary);
    margin: 0;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    line-height: 1.6;
}

main {
    width: 100%;
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 60px 20px;
    flex: 1;
}

/* =========================================
   HEADER & SELECTOR
   ========================================= */
header { 
    text-align: center; 
    margin-bottom: 40px; 
    position: relative;
}

.privacy-pill {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: var(--bg-surface);
    border: 1px solid var(--border-light);
    padding: 6px 12px;
    border-radius: 99px;
    font-size: 0.8rem;
    color: var(--fg-secondary);
    font-weight: 500;
    box-shadow: 0 2px 4px rgba(0,0,0,0.02);
    margin-bottom: 16px;
}
.privacy-pill svg { width: 12px; height: 12px; color: var(--fg-primary); }

/* Tool Selector (New Navigation) */
.tool-selector-wrapper {
    position: relative;
    max-width: 300px;
    margin: 0 auto 16px auto;
}

.tool-selector-wrapper select {
    appearance: none;
    -webkit-appearance: none;
    width: 100%;
    background: var(--bg-surface);
    border: 1px solid var(--border-light);
    border-radius: 8px;
    padding: 10px 40px 10px 16px;
    font-size: 0.95rem;
    font-weight: 500;
    color: var(--fg-primary);
    cursor: pointer;
    box-shadow: var(--shadow-card);
    transition: all 0.2s;
    font-family: inherit;
}

.tool-selector-wrapper select:hover {
    border-color: #bbb;
    transform: translateY(-1px);
}

.tool-selector-wrapper select:focus {
    outline: none;
    border-color: var(--accent-blue);
    box-shadow: 0 0 0 3px rgba(0, 112, 243, 0.1);
}

.selector-icon {
    position: absolute;
    right: 14px;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    color: var(--fg-secondary);
}

h1 {
    font-size: 2.2rem;
    font-weight: 700;
    letter-spacing: -0.03em;
    margin: 0;
    color: var(--fg-primary);
}

/* =========================================
   OPTIONS PANELS
   ========================================= */
.panel-config {
    background: var(--bg-surface);
    border: 1px solid var(--border-light);
    border-radius: 8px;
    padding: 16px 24px;
    margin-bottom: 20px;
    display: none; 
    animation: fadeIn 0.3s ease;
    position: relative;
    z-index: 40; 
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
}

.opt-group {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
}

.opt-label {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--fg-primary);
    display: flex;
    align-items: center;
    gap: 8px;
}

.opt-value {
    background: var(--border-light);
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.8rem;
    font-family: monospace;
}

/* Resize Panel Specifics */
.resize-grid {
    display: grid;
    grid-template-columns: 1fr 1fr auto;
    gap: 16px;
    align-items: end;
}

.input-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.input-group label {
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--fg-secondary);
}

.input-field {
    background: var(--bg-app);
    border: 1px solid var(--border-light);
    padding: 8px 12px;
    border-radius: 6px;
    font-family: inherit;
    font-size: 0.9rem;
    color: var(--fg-primary);
    width: 100%;
    transition: border 0.2s;
}

.input-field:focus {
    outline: none;
    border-color: var(--accent-blue);
    box-shadow: 0 0 0 2px rgba(0, 112, 243, 0.1);
}

.checkbox-wrapper {
    display: flex;
    align-items: center;
    gap: 8px;
    padding-bottom: 8px;
}

.checkbox-wrapper label {
    font-size: 0.85rem;
    color: var(--fg-primary);
    cursor: pointer;
    font-weight: 500;
}

.helper-text {
    grid-column: 1 / -1;
    font-size: 0.75rem;
    color: var(--fg-tertiary);
    margin-top: 8px;
}

/* Range Slider Styling */
input[type=range] {
    -webkit-appearance: none;
    width: 100%;
    max-width: 200px;
    background: transparent;
}

input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 16px;
    width: 16px;
    border-radius: 50%;
    background: var(--fg-primary);
    cursor: pointer;
    margin-top: -6px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

input[type=range]::-webkit-slider-runnable-track {
    width: 100%;
    height: 4px;
    cursor: pointer;
    background: var(--border-light);
    border-radius: 2px;
}

/* =========================================
   COMPONENTS
   ========================================= */
.drop-zone {
    background: var(--bg-surface);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    padding: 60px 40px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
    position: relative; 
    z-index: 1;
    box-shadow: var(--shadow-card);
}
.drop-zone:hover { border-color: #999; transform: translateY(-1px); box-shadow: var(--shadow-hover); }
.drop-zone.drag-over { border-color: var(--accent-blue); background: #f7faff; transform: scale(0.99); }

.dz-icon { color: var(--fg-tertiary); margin-bottom: 16px; transition: color 0.2s; }
.drop-zone:hover .dz-icon { color: var(--fg-primary); }
.dz-title { font-size: 1.1rem; font-weight: 600; color: var(--fg-primary); margin-bottom: 8px; }
.dz-sub { font-size: 0.9rem; color: var(--fg-secondary); margin-bottom: 24px; }

.btn-trigger {
    background: var(--fg-primary);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    font-weight: 500;
    font-size: 0.9rem;
    cursor: pointer;
    transition: background 0.2s;
}
.btn-trigger:hover { background: #333; }

/* Progress Bar */
.progress-container { margin-top: 32px; display: none; }
.progress-meta { display: flex; justify-content: space-between; font-size: 0.85rem; color: var(--fg-secondary); margin-bottom: 8px; font-weight: 500; }
.progress-track { height: 4px; background: var(--border-light); border-radius: 99px; overflow: hidden; }
.progress-fill { height: 100%; background: var(--fg-primary); width: 0%; transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1); }

/* Actions */
.actions { display: flex; justify-content: flex-end; gap: 12px; margin-top: 32px; margin-bottom: 24px; flex-wrap: wrap; align-items: center; }

.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 10px 16px;
    border-radius: 6px;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
    height: 40px;
}
.btn-outline { background: transparent; border: 1px solid var(--border-light); color: var(--fg-secondary); }
.btn-outline:hover { border-color: var(--fg-primary); color: var(--fg-primary); }
.btn-success { background: var(--fg-primary); border: 1px solid var(--fg-primary); color: white; }
.btn-success:hover { background: #333; border-color: #333; }
.btn:disabled { opacity: 0.5; cursor: not-allowed; }

/* File List */
.file-list { display: grid; grid-template-columns: 1fr; gap: 12px; }
.file-item {
    background: var(--bg-surface);
    border: 1px solid var(--border-light);
    border-radius: 8px;
    padding: 16px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.file-info { display: flex; align-items: center; gap: 12px; overflow: hidden; }
.file-name { font-size: 0.9rem; font-weight: 500; color: var(--fg-primary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 250px; }

.status-badge { font-size: 0.75rem; padding: 2px 8px; border-radius: 99px; font-weight: 600; text-transform: uppercase; }
.status-done { background: var(--accent-success-bg); color: var(--accent-success-fg); }
.status-error { background: var(--accent-error-bg); color: var(--accent-error-fg); }

.single-dl-link { font-size: 0.85rem; font-weight: 500; color: var(--fg-primary); text-decoration: none; border-bottom: 1px solid transparent; }
.single-dl-link:hover { border-bottom-color: var(--fg-primary); }

/* Warning Box (Mobile Limit) */
.warning-box {
    background: var(--accent-warning-bg);
    color: var(--accent-warning-fg);
    border: 1px solid #f0e6ce;
    padding: 12px;
    border-radius: 8px;
    font-size: 0.85rem;
    margin-top: 16px;
    display: none; /* JS Toggled */
    width: 100%;
    text-align: center;
}

/* Support Button Responsive Label */
.coffee-label { display: none; }
@media(min-width: 600px) {
    .coffee-label { display: inline; }
}

/* How It Works Section */
.info-section { margin-top: 60px; }
.steps-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 24px; margin-top: 24px; }
.step-card { background: var(--bg-surface); padding: 24px; border-radius: var(--radius-lg); border: 1px solid var(--border-light); }
.step-number { font-weight: 700; color: var(--accent-blue); margin-bottom: 12px; font-size: 1.2rem; }
.step-title { font-weight: 600; color: var(--fg-primary); margin-bottom: 8px; }
.step-desc { font-size: 0.9rem; color: var(--fg-secondary); }

/* =========================================
   FAQ SECTION
   ========================================= */
.faq-section {
    margin-top: 60px;
    border-top: 1px solid var(--border-light);
    padding-top: 40px;
}
.faq-title { font-size: 1.5rem; font-weight: 700; margin-bottom: 24px; color: var(--fg-primary); }

details {
    border-bottom: 1px solid var(--border-light);
    padding: 16px 0;
    cursor: pointer;
}
details summary {
    font-weight: 600;
    list-style: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
details summary::-webkit-details-marker { display: none; }
details summary::after { content: "+"; font-size: 1.2rem; color: var(--fg-secondary); }
details[open] summary::after { content: "-"; }

.faq-content {
    padding-top: 12px;
    color: var(--fg-secondary);
    font-size: 0.95rem;
}

/* Footer & Quick Links */
footer { 
    text-align: center; 
    padding: 40px 20px; 
    font-size: 0.8rem; 
    color: var(--fg-tertiary); 
    margin-top: 40px;
    background: var(--bg-surface);
    border-top: 1px solid var(--border-light);
}

.footer-nav {
    margin-bottom: 16px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 12px;
}

.footer-link {
    color: var(--fg-secondary);
    text-decoration: none;
    transition: color 0.2s;
    font-weight: 500;
}
.footer-link:hover { color: var(--fg-primary); text-decoration: underline; }
.footer-divider { color: var(--border-light); }

@media (max-width: 600px) {
    main { padding: 30px 16px; }
    h1 { font-size: 1.8rem; }
    .file-name { max-width: 140px; }
    .actions { flex-direction: row; flex-wrap: wrap; }
    .steps-grid { grid-template-columns: 1fr; }
    .resize-grid { grid-template-columns: 1fr; }
}